var cardNumArr=[];const col=8;var dataCollection;function buildCardNumArr(){for(var a=[],r=1;r<=52;r++)a.push(r);cardNumArr=shuffleArr(a)}function shuffleArr(a){for(var r,t,n=a.length;n;r=parseInt(Math.random()*n),t=a[--n],a[n]=a[r],a[r]=t);return a}function getDataCollection(){for(var a=[[],[],[],[],[],[],[],[]],r=0;r<cardNumArr.length;r++){var t=getColor(cardNumArr[r])+(cardNumArr[r]%13+1).toString();a[r%col].push(t)}return console.log(a),a}function getColor(a){return a<14?"S":a>13&&a<27?"D":a>26&&a<40?"C":"H"}function dealCard(){for(let l=0;l<dataCollection.length;l++){var a=$(".working-area>li").eq(l);for(let i=0;i<dataCollection[l].length;i++){var r=dataCollection[l][i].toString(),t=r.slice(0,1),n=r.substring(1),e="<div id='"+r+"' class='card row"+i+"' dataColor='"+t+"' dataNum='"+n+"' dataPos=[c"+l+"r"+i+"]' style='background-image:"+('url("img/cards_background/'+r+'.png")')+"'></div>";if(0==i)a.append(e);else{var o=dataCollection[l][i-1];$("#"+o).append(e)}}}}function dealTransition(){$(".card").addClass("show")}function cleanup(){$(".working-area>li").empty()}function newGame(){buildCardNumArr(),dataCollection=getDataCollection(),cleanup(),dealCard(),setTimeout(dealTransition,1e3)}function restartGame(){cleanup(),dealCard(),setTimeout(dealTransition,1e3)}$("document").ready(function(){$(".new-game-btn").on("click",newGame),$(".restart-btn").on("click",restartGame),newGame()});